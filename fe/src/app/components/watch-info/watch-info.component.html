<div class="watch-info">
  <div class="info-header">
    <div class="title-section">
      <h1>{{ movie.title }}</h1>
      @if (movie.alternateTitle !== movie.title) {
        <p class="original-title">{{ movie.alternateTitle }}</p>
      }
      @if (movie.tagline) {
        <p class="tagline">{{ movie.tagline }}</p>
      }
    </div>

    <div class="meta-info">
      <div class="meta-item">
        <span class="rating">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
            />
          </svg>
          {{ movie.avgRating.toFixed(1) }}
        </span>
        <span class="vote-count">({{ movie.voteCount.toLocaleString() }} đánh giá)</span>
      </div>

      <div class="meta-item">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10" />
          <polyline points="12 6 12 12 16 14" />
        </svg>
        <span>{{ formatRuntime(movie.runtime) }}</span>
      </div>

      <div class="meta-item">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
          <line x1="16" y1="2" x2="16" y2="6" />
          <line x1="8" y1="2" x2="8" y2="6" />
          <line x1="3" y1="10" x2="21" y2="10" />
        </svg>
        <span>{{ movie.releaseDate }}</span>
      </div>
    </div>

    <div class="genres">
      @for (genre of movie.genres; track genre.id) {
        <a [routerLink]="['/genre', genre.id]" class="genre-tag">{{ genre.name }}</a>
      }
    </div>
  </div>

  <div class="info-content">
    <div class="description-section">
      <h2>Tóm Tắt</h2>
      <p class="description" [class.expanded]="isExpanded">
        {{ movie.overview }}
      </p>
      @if (movie.overview.length > 200) {
        <button class="btn-expand" (click)="toggleDescription()">
          {{ isExpanded ? "Thu gọn" : "Xem thêm" }}
        </button>
      }
    </div>

    <div class="details-grid">
      <div class="detail-item">
        <h3>Trạng Thái</h3>
        <p>{{ movie.status }}</p>
      </div>

<!--      @if (movie.budget > 0) {-->
<!--        <div class="detail-item">-->
<!--          <h3>Ngân Sách</h3>-->
<!--          <p>{{ formatCurrency(movie.budget) }}</p>-->
<!--        </div>-->
<!--      }-->

<!--      @if (movie.revenue > 0) {-->
<!--        <div class="detail-item">-->
<!--          <h3>Doanh Thu</h3>-->
<!--          <p>{{ formatCurrency(movie.revenue) }}</p>-->
<!--        </div>-->
<!--      }-->

<!--      <div class="detail-item" *ngIf="movie?.productionCountries?.length">-->
<!--        <h3>Quốc Gia</h3>-->
<!--        <p>-->
<!--          <ng-container *ngFor="let c of movie.productionCountries; let last = last">-->
<!--            {{ c.name }}<span *ngIf="!last">, </span>-->
<!--          </ng-container>-->
<!--        </p>-->
<!--      </div>-->

<!--      <div class="detail-item" *ngIf="movie.spokenLanguages.length">-->
<!--        <h3>Ngôn Ngữ</h3>-->
<!--        <p>-->
<!--          <ng-container *ngFor="let l of movie.spokenLanguages; let last = last">-->
<!--            {{ l.name }}<span *ngIf="!last">, </span>-->
<!--          </ng-container>-->
<!--        </p>-->
<!--      </div>-->

      <div class="detail-item">
        <h3>Độ Phổ Biến</h3>
        <p>{{ movie.popularity.toFixed(0) }}</p>
      </div>
    </div>
  </div>
</div>
