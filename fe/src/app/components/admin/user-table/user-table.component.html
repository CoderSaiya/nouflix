<div class="table-wrapper">
  @if (!isLoading && users.length > 0) {
  <table class="users-table">
    <thead>
      <tr>
        <th class="checkbox-column">
          <input
            type="checkbox"
            class="checkbox-input"
            [checked]="isAllSelectedValue()"
            (change)="onToggleSelectAll()"
            aria-label="Chá»n táº¥t cáº£" />
        </th>
        <th>TÃªn</th>
        <th>Email</th>
        <th>Vai TrÃ²</th>
        <th>Tráº¡ng ThÃ¡i</th>
        <th>HÃ nh Äá»™ng</th>
      </tr>
    </thead>
    <tbody>
      @for (user of users; track user.userId) {
      <tr>
        <td class="checkbox-column">
          <input
            type="checkbox"
            class="checkbox-input"
            [checked]="selectedUsers.has(user.userId)"
            (change)="onToggleSelect(user.userId)"
            [attr.aria-label]="'Chá»n ' + getFullName(user)" />
        </td>
        <td class="name-column">{{ getFullName(user) }}</td>
        <td class="email-column">{{ user.email }}</td>
        <td>
          <span class="role-badge" [class]="getRoleClass(user.role)">
            {{ user.role }}
          </span>
        </td>
        <td>
          <button
            class="status-toggle"
            [class]="getStatusClass(user.isBanned)"
            (click)="onToggleStatus(user.userId)"
            [title]="'Nháº¥p Ä‘á»ƒ thay Ä‘á»•i tráº¡ng thÃ¡i'">
            {{ user.isBanned ? "Bá»‹ Cáº¥m" : "Hoáº¡t Ä‘á»™ng" }}
          </button>
        </td>
        <td class="actions-column">
          <button class="action-btn edit" (click)="onEdit(user.userId)" title="Sá»­a">
            âœ
          </button>
          <button
            class="action-btn delete"
            (click)="onDelete(user.userId)"
            title="XÃ³a">
            ğŸ—‘
          </button>
        </td>
      </tr>
      }
    </tbody>
  </table>
  }

  @if (!isLoading && users.length === 0) {
  <div class="empty-state">
    <p class="empty-message">KhÃ´ng cÃ³ ngÆ°á»i dÃ¹ng nÃ o</p>
  </div>
  }

  @if (isLoading) {
  <div class="loading-state">
    <div class="spinner"></div>
    <p>Äang táº£i...</p>
  </div>
  }
</div>
